{% extends "baseTemplate.html.twig" %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ App.base_path }}/Views/css/list.css">
{% endblock %}

{% block content %}

	<div class="container-fluid">
		<div class="sticky-header-titre">
			<div class="container">
				{% include "/partials/_notification.html.twig" %}
			</div>
		</div>

		<table class="table table-sticky">
			<thead class="table-dark align-middle">
				<tr>
					<th>
						<i class="fas fa-ellipsis-vertical"></i>
					</th>
					<th class="text-center">Statut DW</th>
					<th class="text-center">Numéro devis</th>
					<th class="text-center">Date de création</th>
					<th class="text-center">Succursale + service émetteur</th>
					<th>Code client + libellé client</th>
					<th>Référence client</th>
					<th class="text-end">Montant</th>
					<th class="text-center">Opérateur</th>
					<th class="text-center">Date d'envoi devis au client</th>
					<th class="text-center">Statut IPS</th>
				</tr>
			</thead>
			<tbody id="tableBody">
				{% for item in listeDevis %}
					<tr>
						<td class="align-middle" style="padding: 0px">
							<div class="dropdown">
								<button class="btn btn-sm me-1 dropdown-toggle trois-points-vertical" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
									<i class="fas fa-ellipsis-vertical"></i>
								</button>
								<ul class="dropdown-menu dropdown-menu-end" id="dropdown-menu" aria-labelledby="dropdownMenuButton" style="">
									<li>
										<a class="dropdown-item fw-bold" href="{{ path("devis_magasin_soumission_verification_prix", {numeroDevis: item.numeroDevis})}}">Soumission devis pour verification prix</a>
									</li>
								</ul>
							</div>
						</td>
						<td class="text-center">{{item.statutDw}}</td>
						<td class="text-center">{{item.numeroDevis}}</td>
						<td class="text-center">{{item.dateCreation}}</td>
						<td class="text-center">{{item.succursaleServiceEmetteur}}</td>
						<td>{{item.codeClientLibelleClient}}</td>
						<td>{{item.referenceCLient}}</td>
						<td class="text-end">{{item.montant|number_format(2, ',', '.')}}</td>
						<td class="text-center">{{item.operateur}}</td>
						<td class="text-center">{{item.dateDenvoiDevisAuClient}}</td>
						<td class="text-center">{{item.statutIps}}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}

{% block javascript %}
	<script src="{{ App.base_path }}/Views/js/utils/positionSticky.js"></script>
{% endblock %}
