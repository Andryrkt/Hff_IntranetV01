{% extends "baseTemplate.html.twig" %}

{% block title %}
	Reporting IPS DA Réappro
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ App.base_path }}/Views/css/list.css?v=2025.09.15.08.00">
	<link rel="stylesheet" href="{{ App.base_path }}/Views/css/da/reappro/reporting_ips.css?v=2025.10.28.08.00">
{% endblock %}

{% block content %}
	<div class="container-fluid mt-6">
		<div class="sticky-header-titre">
			<div class="container">
				{% include "da/reappro/reporting_ips/_formulaireReportingIpsSearch.html.twig" with {'form': form} %}
				{% include "/partials/_notification.html.twig" %}
			</div>
		</div>
		<div style="max-height: 70vh; overflow-y: auto;">
			<table class="table table-sticky">
				<thead class="table-dark align-middle table-fixed">
					<tr>
						<th class="text-center">Agence - Serivce</th>
						<th class="text-center">Facture</th>
						<th class="text-center">Référence Client</th>
						<th class="text-center">CST</th>
						<th class="text-center">Référence</th>
						<th class="text-center">Désignation</th>
						<th class="text-center">Janvier</th>
						<th class="text-center">Février</th>
						<th class="text-center">Mars</th>
						<th class="text-center">Avril</th>
						<th class="text-center">Mai</th>
						<th class="text-center">Juin</th>
						<th class="text-center">Juillet</th>
						<th class="text-center">Août</th>
						<th class="text-center">Septembre</th>
						<th class="text-center">Octobre</th>
						<th class="text-center">Novembre</th>
						<th class="text-center">Descembre</th>
					</tr>
				</thead>
				<tbody id="tableBody">
					{% for item in reporting_ips %}
						<tr>
							<td class="text-center">{{item.agence_debiteur ~ ' - ' ~ item.service_debiteur}}</td>
							<td class="text-center">{{item.numero_facture}}</td>
							<td class="text-center">{{item.client}}</td>
							<td class="text-center">{{item.constructeur}}</td>
							<td class="text-center">{{item.reference_produit}}</td>
							<td class="text-start">{{item.designation_produit}}</td>
							{# <td class="text-center">{{item.qte_demande == 0 ? '-': item.qte_demande}}</td> #}
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
							<td class="text-center">-</td>
						</tr>
					{% endfor %}
				</tbody>
				<tfoot>
					<tr>
						<td clospan="6" class="text-center">foot</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
						<td class="text-center">-</td>
					</tr>
				</tfoot>
			</table>

		</div>
		<div class="mt-3 mx-4 d-flex justify-content-end gap-4">

			<span class="fw-bold">Qte Totale :
			</span>
			<span class="fw-bold text-danger">{{ qte_totale }}
			</span>

			<span class="fw-bold">Montant Total :
			</span>
			<span class="fw-bold text-danger">{{ montant_total|number_format(2, ',' ,'.') }}
			</span>
		</div>

	</div>


{% endblock %}

{% block javascript %}
	<script src="{{ App.base_path }}/Views/js/checkbox_group.js"></script>
{% endblock %}
