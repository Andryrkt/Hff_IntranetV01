{% extends "baseTemplate.html.twig" %}

{% block stylesheets%}
	<link href="{{ App.base_path }}/Views/css/new.css" rel="stylesheet"/>
	<link href="{{ App.base_path }}/Views/css/da/style.css" rel="stylesheet"/>
	<link href="{{ App.base_path }}/Views/css/da/list.css" rel="stylesheet"/>
	<link href="{{ App.base_path }}/Views/css/da/detail.css" rel="stylesheet"/>
	<link href="{{ App.base_path }}/Views/css/dit/news.css" rel="stylesheet"/>
	<link href="{{ App.base_path }}/Views/css/da/proposition.css" rel="stylesheet"/>
{% endblock %}

{% import "macroForm.html.twig" as macroForm %}

{% block overlay %}
	{% include "/shared/_overlay.html.twig"  %}
{% endblock %}

{% set container_class = da.achatDirect ? '': 'custom-width' %}
{% set prop_val_template = da.achatDirect ? 'proposition-validation-direct' : 'proposition-validation-avec-dit' %}

{% block content %}
	<div class="container {{ container_class }}">
		<nav>
			<div class="onglet-head nav nav-tabs" role="tablist">
				<button class="nav-link active" id="nav-proposition-tab" data-bs-toggle="tab" data-bs-target="#nav-proposition" type="button" role="tab" aria-controls="nav-proposition" aria-selected="true">Validation et Proposition</button>
				<button class="nav-link" id="nav-observation-tab" data-bs-toggle="tab" data-bs-target="#nav-observation" type="button" role="tab" aria-controls="nav-observation" aria-selected="false">Observation</button>
			</div>
		</nav>
		<div class="tab-content">
			<div class="tab-pane fade active show" id="nav-proposition" role="tabpanel" aria-labelledby="nav-proposition-tab">
				{{ include('da/shared/proposition/' ~ prop_val_template ~ '.html.twig') }}
			</div>
			<div class="tab-pane fade" id="nav-observation" role="tabpanel" aria-labelledby="nav-observation-tab">
				<div class="card border-top-left-radius-0">
					<div class="card-body">
						{{ include('da/shared/detail/observation.html.twig') }}
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}

{% set dossier_JS = da.achatDirect ? 'propositionDirect' : 'propositionAvecDit' %}

{% block javascript %}
	<script src="{{ App.base_path }}/Views/js/da/{{ dossier_JS }}/proposition.js" type="module"></script>
	<script src="{{ App.base_path }}/Views/js/da/detail/observation.js" type="module"></script>
{% endblock %}
