{% import "macroForm.html.twig" as macroForm %}

<!-- DEBUT recherche -->
<div class="accordion mb-2" id="formAccordion">
	<div class="accordion-item">
		<h2 class="accordion-header">
			<button class="accordion-button enteteAccordion" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
				Formulaire de recherche
			</button>
		</h2>
		<div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#formAccordion">
			<div class="accordion-body">
				{{ form_start(form, {'method': 'GET'}) }}
				<div class="row">
					<div class="col-12 col-md-2">
						{{ form_row(form.numDa) }}
						{{ form_row(form.numDit) }}
						{{ form_label(form.niveauUrgence, '<a href="#" data-bs-toggle="modal"
							data-bs-target="#niveauUrgence">Niveau d\'urgence</a>', { 'label_html': true }) }}
						{{ form_widget(form.niveauUrgence, {'attr': {'class': 'mb-3'}}) }}
					</div>
					<div class="col-12 col-md-2">
						{{ form_row(form.numOr) }}
						{{ form_row(form.numCde) }}
						{{ form_row(form.statutBc)}}
					</div>
					<div class="col-12 col-md-2">
						{{ form_row(form.numFrn) }}
						<div id="suggestion-num-fournisseur" class="suggestions-container"></div>
						<div id="loader-num-fournisseur" class="spinner" style="display: none;">Chargement...</div>
						{{ form_row(form.frn) }}
						<div id="suggestion-nom-fournisseur" class="suggestions-container"></div>
						<div id="loader-nom-fournisseur" class="spinner" style="display: none;">Chargement...</div>
						{{ form_row(form.typeAchat)}}
					</div>
					<div class="col-12 col-md-2">
						{{ form_row(form.ref) }}
						{{ form_row(form.designation) }}
						{{ form_row(form.sortNbJours) }}
					</div>
					<div class="col-12 col-md-2">
						{{ form_row(form.dateDebutOR)}}
						{{ form_row(form.dateFinOR)}}
						{{ form_row(form.statutDA)}}
					</div>
					<div class="col-12 col-md-2">
						{{ form_row(form.dateDebutfinSouhaite)}}
						{{ form_row(form.dateFinFinSouhaite)}}
					</div>
				</div>

				<div class="d-flex justify-content-end mb-2">
					<button class="btn btn-warning fw-bold" type="submit">
						<i class="fab fa-searchengin"></i>
						Recherche</button>
				</div>

				{{ form_end(form) }}
			</div>
		</div>
	</div>
</div>
<div class="d-flex justify-content-between align-items-center">
	<div><small><b>Type de demande : </b></small></div>
	{% for da in daTypeIcons %}
		<div>
			{{ da.icon }}
			<small style="color: {{ da.color }};" class="px-2"> : {{ da.label }}</small>
		</div>
	{% endfor %}
	<div class="mb-2">
		<label for="action_non_dispo">Action sur articles non disponibles</label>
		<select id="action_non_dispo" name="" class="form-select">
			<option value="">-- Choisir l'action à faire --</option>
			<option value="delete">Supprimer définitivement</option>
			<option value="create">Générer une nouvelle DA</option>
		</select>
	</div>
</div>
