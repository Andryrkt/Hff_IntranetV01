{% extends "baseTemplate.html.twig" %}

{% block stylesheets%}
	<link href="/Hffintranet/Views/css/new.css" rel="stylesheet"/>
	<link href="/Hffintranet/Views/css/dit/ditInsertionOr.css" rel="stylesheet"/>
	<link href="/Hffintranet/Views/css/ddp/demandePaiement.css" rel="stylesheet"/>

{% endblock %}

{% import "macroForm.html.twig" as macroForm %}

{% block content %}


	<div class="container-fluid">
		<div class="row">
			<div class="col-12 col-md-6">
				<div class="row">
					<div class="col-12 col-md-11">
						<h3 class="perso-titre">
							{% if id == 1 %}
								Formulaire Demande de paiement à l’avance
							{% else %}
								Formulaire Demande de paiement après livraison
							{% endif %}
						</h3>
					</div>

					<div class=" col-12 col-md-1">
						<a href="{{ path("profil_acceuil")}}" class="tablinks p-2 btn btn-outline-warning" style="text-decoration: none;color:black">Retour</a>
					</div>
				</div>
				{{ form_start(form) }}
				{{ form_errors(form)}}


				<div class="row">
					<div class="col-12 col-md-2">
						{{ form_row(form.numeroFournisseur) }}
						<div id="suggestion-num-fournisseur" class="suggestions"></div>
						{{ form_row(form.modePaiement)}}

					</div>
					<div class="col-12 col-md-4">
						{{ form_row(form.beneficiaire)}}
						<div id="suggestion-nom-fournisseur" class="suggestions"></div>
						{{ form_row(form.ribFournisseur) }}

					</div>
					<div class="col-12 col-md-3">
						{{ form_row(form.agenceDebiter)}}
						{{ form_row(form.serviceDebiter) }}
					</div>
					<div class="col-12 col-md-3">
						{{ form_row(form.contact)}}
						{{ form_row(form.montantAPayer)}}
					</div>

				</div>
				<div class="row">
					<div class="col-12 col-md-2">{{ form_row(form.devise)}}</div>

					<div class="col-12 col-md-10">{{ form_row(form.motif)}}</div>
				</div>
				<div class="row">
					<div class="col-12 col-md-4">
						<p>Veuillez insérer
							<strong>le proforma facture fournisseur *</strong>
						</p>

						<div id="dropzone-1" style="border: 2px dashed #ccc; padding: 50px; text-align: center;">
							<i class="fa fa-cloud-upload upload-icon"></i>
							<br>

							Glissez et déposez votre fichier PDF ici, ou cliquez pour sélectionner un fichier PDF.
							<br>
							<button type="button" id="upload-btn-1" class="btn btn-primary">Sélectionner un fichier</button>
						</div>
						{{ form_widget(form.pieceJoint01, {'attr': {'style': 'display:none;'}}) }}
						{{ form_errors(form.pieceJoint01)}}
						<!-- Debut Conteneur pour afficher le nom du fichier -->
						<div class="file-name-1" style="margin-top: 10px;"></div>
						<div class="file-size" id="file-size-1"></div>
						<!-- Fin Conteneur pour afficher le nom du fichier-->
					</div>
					<!-- Debut affichage du tableau liste des factures-->
					<div class="col-12 col-md-8">
						<div class="row" id="tableau_facture"></div>
						<div class="row" id="tableau_fichier"></div>
					</div>
					<!-- Fin affichage du tableau liste des factures-->
				</div>
				<div class="row">
					<div id="pdf-preview-1" class="pdf-preview" style="display: none;">
						<embed id="pdf-embed-1" type="application/pdf" width="100%" height="500px">
					</div>
				</div>


				<div class="d-flex justify-content-end">
					<button type="submit" class="btn bouton mt-2 ajout-overlay">
						<i class="fas fa-save"></i>
						Enregistrer
					</button>
				</div>
				{{ form_end(form) }}
			</div>
		</div>
		<div class="col-12 col-md-6"></div>
	</div>


{% endblock %}

{% block javascript %}
	<script type="module" src="/Hffintranet/Views/js/ddp/demandePaiement.js"></script>
{% endblock %}
