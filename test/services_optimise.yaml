# Configuration optimisée pour éviter la répétition des paramètres
# Remplacer votre configuration actuelle par celle-ci

services:
    # Configuration par défaut pour tous les services
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # Services de base (déjà existants - garder tel quel)
    App\Service\:
        resource: '../src/Service/*'
        exclude:
            - '../src/Service/dit/or/'
        tags: ['app.service']
        public: true

    App\Model\:
        resource: '../src/Model/*'
        tags: ['app.model']
        public: true

    App\Repository\:
        resource: '../src/Repository/*'
        tags: ['app.repository']
        public: true

    # ✅ NOUVELLE CONFIGURATION - Classe parente avec paramètres
    App\Service\genererPdf\GeneratePdf:
        arguments:
            $baseCheminDuFichier: '%env(BASE_PATH_FICHIER)%/'
            $baseCheminDocuware: '%env(BASE_PATH_DOCUWARE)%/'
        public: true

    # ✅ Toutes les classes enfants héritent automatiquement
    App\Service\genererPdf\GeneratePdfDevisMagasin:
        parent: App\Service\genererPdf\GeneratePdf
        public: true

    # Si vous avez d'autres services PDF, ajoutez-les ici :
    # App\Service\genererPdf\GeneratePdfDevisDit:
    #     parent: App\Service\genererPdf\GeneratePdf
    #     public: true

    # App\Service\genererPdf\GeneratePdfFacture:
    #     parent: App\Service\genererPdf\GeneratePdf
    #     public: true

    # Autres services problématiques
    App\Service\fichier\UploderFileService:
        arguments:
            $cheminDeBase: '%env(BASE_PATH_FICHIER)%/magasin/devis/'
        public: true

    # Formulaires - injection manuelle (déjà existant - garder tel quel)
    App\Form\:
        resource: '../src/Form/*'
        autowire: false
        public: true

    # Contrôleurs - injection manuelle (déjà existant - garder tel quel)
    App\Controller\:
        resource: '../src/Controller/*'
        autowire: false
        public: true
