# Configuration des services pour l'auto-wiring
# Fichier: config/services_autowired.yaml

services:
    # Configuration par défaut pour tous les services
    _defaults:
        autowire: true
        autoconfigure: true
        public: false

    # Services de base
    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    # Configuration spécifique pour les services problématiques
    App\Service\genererPdf\GeneratePdfDevisMagasin:
        arguments:
            $baseCheminDuFichier: '%env(BASE_PATH_FICHIER)%/'
            $baseCheminDocuware: '%env(BASE_PATH_DOCUWARE)%/'
        public: true

    App\Service\fichier\UploderFileService:
        arguments:
            $cheminDeBase: '%env(BASE_PATH_FICHIER)%/magasin/devis/'
        public: true

    # Services déjà configurés
    App\Service\historiqueOperation\HistoriqueOperationDevisMagasinService:
        arguments:
            - '@doctrine.orm.default_entity_manager'
        public: true

    # Le contrôleur n'a besoin d'aucune configuration !
    # Symfony l'auto-wire automatiquement
