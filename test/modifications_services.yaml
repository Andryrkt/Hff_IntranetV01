# Modifications à apporter à config/services.yaml
# Ajouter ces lignes à votre fichier existant

# Configuration des services pour l'auto-wiring
services:
    # Configuration par défaut pour tous les services
    _defaults:
        autowire: true          # ✅ CHANGER de false à true
        autoconfigure: true     # ✅ CHANGER de false à true
        public: false

    # Services de base (déjà existants - garder tel quel)
    App\Service\:
        resource: '../src/Service/*'
        exclude:
            - '../src/Service/dit/or/'
        tags: ['app.service']
        public: true

    App\Model\:
        resource: '../src/Model/*'
        tags: ['app.model']
        public: true

    App\Repository\:
        resource: '../src/Repository/*'
        tags: ['app.repository']
        public: true

    # ✅ NOUVELLES CONFIGURATIONS - Ajouter à la fin du fichier
    # Services problématiques qui nécessitent une configuration
    App\Service\genererPdf\GeneratePdfDevisMagasin:
        arguments:
            $baseCheminDuFichier: '%env(BASE_PATH_FICHIER)%/'
            $baseCheminDocuware: '%env(BASE_PATH_DOCUWARE)%/'
        public: true

    App\Service\fichier\UploderFileService:
        arguments:
            $cheminDeBase: '%env(BASE_PATH_FICHIER)%/magasin/devis/'
        public: true

    # ✅ Le contrôleur n'a besoin d'aucune configuration !
    # Symfony l'auto-wire automatiquement grâce à l'injection par méthode
